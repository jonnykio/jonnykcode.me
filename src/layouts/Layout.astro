---
import Header from "../components/Header.astro";
import Footer from "../components/Footer.astro";

interface Props {
    title: string;
    description?: string;
}

const { title, description = "A personal tech blog." } = Astro.props;
---

<!doctype html>
<html lang="en" class="h-full antialiased">
    <head>
        <meta charset="UTF-8" />
        <meta name="description" content={description} />
        <meta name="viewport" content="width=device-width" />
        <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
        <meta name="generator" content={Astro.generator} />
        <title>{title}</title>
        <link rel="preconnect" href="https://fonts.googleapis.com" />
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
        <link
            href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700&family=Playfair+Display:ital,wght@0,900;1,900&family=Space+Mono:wght@400;700&display=swap"
            rel="stylesheet"
        />
        <script is:inline>
            // On page load or when changing themes, best to add inline in `head` to avoid FOUC
            if (
                localStorage.getItem("color-theme") === "dark" ||
                (!("color-theme" in localStorage) &&
                    window.matchMedia("(prefers-color-scheme: dark)").matches)
            ) {
                document.documentElement.classList.add("dark");
            } else {
                document.documentElement.classList.remove("dark");
            }
        </script>
        <style is:global>
            :root {
                --ink: #000000;
                --paper: #ffffff;
            }
            .dark {
                --ink: #ffffff;
                --paper: #0a0a0a;
            }

            body {
                background-color: var(--paper);
                color: var(--ink);
                font-family: "Inter", sans-serif;
                position: relative;
            }

            /* Grain Texture */
            body::before {
                content: "";
                position: fixed;
                top: 0;
                left: 0;
                width: 100%;
                height: 100%;
                pointer-events: none;
                z-index: 9999;
                opacity: 0.05;
                background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.65' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)'/%3E%3C/svg%3E");
            }

            .brutalist-border {
                border: 3px solid var(--ink);
                box-shadow: 6px 6px 0px 0px var(--ink);
                transition: all 0.2s ease;
            }

            .brutalist-border:hover {
                transform: translate(-2px, -2px);
                box-shadow: 8px 8px 0px 0px var(--ink);
            }

            .brutalist-border:active {
                transform: translate(2px, 2px);
                box-shadow: 2px 2px 0px 0px var(--ink);
            }

            h1,
            h2,
            h3,
            h4 {
                font-family: "Playfair Display", serif;
                text-transform: uppercase;
                letter-spacing: -0.02em;
            }

            .mono {
                font-family: "Space Mono", monospace;
            }
        </style>
    </head>
    <body
        class="flex flex-col min-h-screen bg-white dark:bg-neutral-950 text-black dark:text-white transition-colors duration-200"
    >
        <a
            href="#main-content"
            class="sr-only focus:not-sr-only focus:absolute focus:top-4 focus:left-4 z-50 bg-black text-white dark:bg-white dark:text-black px-4 py-2 brutalist-border"
        >
            Skip to content
        </a>
        <Header />
        <main id="main-content" class="flex-grow w-full">
            <slot />
        </main>
        <Footer />
    </body>
</html>
